const banner=new Swiper(".banner-section__slider",{loop:!0,speed:900,slidesPerView:1,spaceBetween:1,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},pagination:{el:".swiper-pagination",clickable:!0}}),productSlider=new Swiper(".product-slider",{loop:!0,speed:900,slidesPerView:1,spaceBetween:1,navigation:{nextEl:".next",prevEl:".prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{600:{slidesPerView:2,spaceBetween:5},900:{slidesPerView:3,spaceBetween:5},1e3:{slidesPerView:3,spaceBetween:15},1138:{slidesPerView:4,spaceBetween:1},1200:{slidesPerView:4,spaceBetween:29}}}),rangeSlider=document.querySelector(".aside-filter__slider");if(rangeSlider){noUiSlider.create(rangeSlider,{start:[1e5,5e5],connect:!0,step:1,range:{min:[1e5],max:[5e5]}});const e=[document.getElementById("input0"),document.getElementById("input1")];rangeSlider.noUiSlider.on("update",(function(t,n){e[n].value=Math.round(t[n])}));const t=(e,t)=>{let n=[null,null];n[e]=t,rangeSlider.noUiSlider.set(n)};e.forEach((e,n)=>{e.addEventListener("change",e=>{t(n,e.currentTarget.value)})})}const element=document.querySelectorAll(".filter__item-select, .catalog__filter-select");element.forEach(e=>{new Choices(e,{searchEnabled:!1})});const filterBlock=document.querySelectorAll(".aside-filter__item-drop");if(filterBlock)for(let e of filterBlock){const t=e.querySelector(".watch-more__btn"),n=e.querySelectorAll(".dn");t&&t.addEventListener("click",(function(e){e.preventDefault();for(let e of n)e.classList.contains("visible")?(e.classList.remove("visible"),t.classList.remove("dn")):(e.classList.add("visible"),t.classList.add("dn"))}))}let filters=document.querySelectorAll("input[data-filter]"),all_cards=document.querySelectorAll("div[data-country]");null!==filters&&filters.forEach((function(e){e.addEventListener("change",(function(){let e=document.querySelectorAll("input[type=checkbox]:checked");const t=Array.from(e).map(e=>e.dataset.filter);console.log(t),all_cards.forEach((function(e){console.log(t.includes(e.dataset.country)),!t.length||t.includes(e.dataset.country)?(e.classList.remove("animate"),e.classList.remove("dn")):(e.classList.add("animate"),e.classList.add("dn"))}))}))}));const mobileBtn=document.querySelector(".menu__btn"),mobileMenu=document.querySelector(".menu-mobile__list");mobileBtn&&mobileBtn.addEventListener("click",(function(){mobileMenu.classList.toggle("menu-mobile__list--active")}));const tabs=document.querySelectorAll(".tab");function labelClickHandler(){if(this.classList.contains("tab--active"))return;const e=this.closest(".panel__tabs");if(!e)return;e.querySelectorAll(".tab").forEach(e=>e.classList.remove("tab--active")),this.classList.add("tab--active");e.querySelectorAll(".tabs-content").forEach(e=>e.classList.remove("tabs-content--active"));const t=e.querySelector(`.tabs-content[data-tab="${this.dataset.tab}"]`);t&&t.classList.add("tabs-content--active")}tabs.forEach(e=>e.addEventListener("click",labelClickHandler));const favorite=document.querySelectorAll(".product-item__favorite");favorite.forEach(e=>{e.addEventListener("click",(function(){e.classList.toggle("product-item__favorite--active")}))});const favoriteCard=document.querySelector(".product-card__icon--favorite");favoriteCard&&favoriteCard.addEventListener("click",(function(){favoriteCard.classList.toggle("product-card__icon--favorite--active")}));const compresion=document.querySelector(".product-card__icon--compresion");compresion&&compresion.addEventListener("click",(function(){compresion.classList.toggle("product-card__icon--compresion--active")}));const drop=document.querySelectorAll(".filter__item-drop, .filter__extra");drop.forEach(e=>{e.addEventListener("click",(function(){e.classList.toggle("filter__item-drop--active")}))});const select=document.querySelectorAll(".catalog__filter-button");function onView(e){e.addEventListener("click",(function(){e.classList.contains("catalog__filter-button--active")||select.forEach((function(e){e.classList.remove("catalog__filter-button--active")})),e.classList.add("catalog__filter-button--active");const t=document.querySelector(".catalog__filter-btnline");document.querySelectorAll(".product-item__wrapper").forEach((function(e){t.classList.contains("catalog__filter-button--active")?e.classList.add("product-item__wrapper--list"):e.classList.remove("product-item__wrapper--list")}))}))}select.forEach(onView);const ratings=document.querySelectorAll(".rating");function initRatings(){let e,t;for(let e=0;e<ratings.length;e++){n(ratings[e])}function n(e){i(e),c(),e.classList.contains("rating__set")&&function(e){const n=e.querySelectorAll(".rating__item");for(let l=0;l<n.length;l++){const r=n[l];r.addEventListener("mouseenter",(function(t){i(e),c(r.value)})),r.addEventListener("mouseleave",(function(e){c()})),r.addEventListener("click",(function(n){i(e),e.dataset.ajax?o(r.value,e):(t.innerHTML=l+1,c()),c(r.value)}))}}(e)}function i(n){e=n.querySelector(".rating__active"),t=n.querySelector(".rating__value")}function c(n=t.innerHTML){const i=n/.05;e.style.width=i+"%"}async function o(e,n){if(!n.classList.contains("rating__sending")){n.classList.add("rating__sending");let e=await fetch("json/rating.json",{method:"GET"});if(e.ok){const i=await e.json();t.innerHTML=i.newRating,c(),n.classList.remove("rating__sending")}else alert("Error send"),n.classList.remove("rating__sending")}}}if(ratings.length>0&&initRatings(),document.documentElement.clientWidth<540){document.querySelectorAll(".footer__top-title").forEach(e=>{e.addEventListener("click",(function(){e.classList.toggle("footer__top-title--active")}))})}const mobileFilter=document.querySelector(".aside__btn");mobileFilter&&mobileFilter.addEventListener("click",(function(){mobileFilter.classList.toggle("aside__btn--active")}));const mobBtn=document.querySelector("li.card__list-mobileBtn");mobBtn&&mobBtn.addEventListener("click",(function(){mobBtn.classList.toggle("card__list-mobileBtn--active")}));